<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization Chart</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { box-sizing: border-box; }
        body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        const initialOrgData = {
          id: "1",
          name: "Cody Plofker",
          title: "CEO",
          department: "Executive",
          children: [
            {
              id: "2",
              name: "Chrissy Devries",
              title: "COO",
              department: "Operations",
              children: []
            },
            {
              id: "3",
              name: "Juliet Baker",
              title: "VP of Retail",
              department: "Retail",
              children: []
            },
            {
              id: "4",
              name: "Kirsten Walpert",
              title: "SVP of Marketing",
              department: "Marketing",
              children: [
                {
                  id: "4-1",
                  name: "Payal Patel",
                  title: "Senior Director of Brand Marketing",
                  department: "Brand Marketing",
                  children: [
                    { id: "4-1-1", name: "Samantha O'Hara", title: "Sr. Copywriter", department: "Brand Marketing", children: [] },
                    { id: "4-1-2", name: "Charlotte Newman", title: "Associate Manager of Social Media", department: "Marketing", children: [] },
                    {
                      id: "4-1-3",
                      name: "Genevieve Outwater",
                      title: "Senior Manager of Marketing",
                      department: "Marketing",
                      children: [
                        { id: "4-1-3-1", name: "Carly Steakin", title: "Marketing Operations Manager", department: "Marketing", children: [] }
                      ]
                    }
                  ]
                },
                {
                  id: "4-3",
                  name: "Erin Silverman",
                  title: "Creative Director",
                  department: "Creative",
                  children: [
                    { id: "4-3-1", name: "Cameron Falco", title: "Video Editor", department: "Creative", children: [] },
                    {
                      id: "4-3-2",
                      name: "Joseph Dioslaki",
                      title: "Jr. Content Producer & Editor",
                      department: "Creative",
                      children: []
                    },
                    { id: "4-3-3", name: "Diana Horan", title: "Senior Graphic Designer", department: "Creative", children: [] },
                    { id: "4-3-4", name: "Emma Silverman", title: "Content Producer", department: "Creative", children: [] }
                  ]
                }
              ]
            },
            {
              id: "7",
              name: "Whitney Blau",
              title: "Director of Growth & eCommerce",
              department: "Growth Marketing",
              children: [
                { id: "7-1", name: "Sam Brady", title: "Growth Marketing Manager", department: "Growth Marketing", children: [] }
              ]
            },
            {
              id: "5",
              name: "Vacant",
              title: "VP of Finance",
              department: "Vacant",
              children: []
            },
            {
              id: "6",
              name: "Vacant",
              title: "VP of People",
              department: "Vacant",
              children: []
            }
          ]
        };

        const departmentColors = {
          "Executive": { bg: "bg-purple-100", border: "border-purple-400", text: "text-purple-800" },
          "Operations": { bg: "bg-orange-100", border: "border-orange-400", text: "text-orange-800" },
          "Finance": { bg: "bg-green-100", border: "border-green-400", text: "text-green-800" },
          "Retail": { bg: "bg-blue-100", border: "border-blue-400", text: "text-blue-800" },
          "Marketing": { bg: "bg-pink-100", border: "border-pink-400", text: "text-pink-800" },
          "People": { bg: "bg-yellow-100", border: "border-yellow-400", text: "text-yellow-800" },
          "Vacant": { bg: "bg-gray-200", border: "border-gray-400 border-dashed", text: "text-gray-500" },
          "Creative": { bg: "bg-indigo-100", border: "border-indigo-400", text: "text-indigo-800" },
          "Growth Marketing": { bg: "bg-rose-100", border: "border-rose-400", text: "text-rose-800" },
          "Brand Marketing": { bg: "bg-amber-100", border: "border-amber-400", text: "text-amber-800" }
        };

        // Icons as SVG components
        const ChevronDown = () => (
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="m6 9 6 6 6-6"/>
          </svg>
        );

        const ChevronRight = () => (
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="m9 18 6-6-6-6"/>
          </svg>
        );

        const UserIcon = ({ className }) => (
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
        );

        const PlusIcon = () => (
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-green-500">
            <path d="M5 12h14"/><path d="M12 5v14"/>
          </svg>
        );

        const EditIcon = () => (
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-blue-500">
            <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/>
          </svg>
        );

        const TrashIcon = () => (
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-red-500">
            <path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
          </svg>
        );

        const ZoomInIcon = () => (
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/><path d="M11 8v6"/><path d="M8 11h6"/>
          </svg>
        );

        const ZoomOutIcon = () => (
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/><path d="M8 11h6"/>
          </svg>
        );

        const ResetIcon = () => (
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/>
          </svg>
        );

        const GlobeIcon = () => (
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <circle cx="12" cy="12" r="10"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/><path d="M2 12h20"/>
          </svg>
        );

        const OrgNode = ({ node, level, onUpdate, onAdd, onDelete, onMove, draggedNode, setDraggedNode }) => {
          const [isExpanded, setIsExpanded] = useState(level < 3);
          const [isEditing, setIsEditing] = useState(false);
          const [editData, setEditData] = useState({ name: node.name, title: node.title, department: node.department, remote: node.remote || false });
          const [isDragOver, setIsDragOver] = useState(false);

          const hasChildren = node.children && node.children.length > 0;
          const colors = departmentColors[node.department] || departmentColors["Executive"];
          const isBeingDragged = draggedNode?.id === node.id;

          const handleSave = () => {
            onUpdate(node.id, editData);
            setIsEditing(false);
          };

          const handleAddChild = () => {
            const newChild = {
              id: `${node.id}-${Date.now()}`,
              name: "New Employee",
              title: "Title",
              department: node.department,
              children: []
            };
            onAdd(node.id, newChild);
            setIsExpanded(true);
          };

          const handleDragStart = (e) => {
            if (level === 0) return; // Can't drag CEO
            e.stopPropagation();
            setDraggedNode(node);
            e.dataTransfer.effectAllowed = 'move';
          };

          const handleDragEnd = () => {
            setDraggedNode(null);
            setIsDragOver(false);
          };

          const handleDragOver = (e) => {
            e.preventDefault();
            e.stopPropagation();
            if (draggedNode && draggedNode.id !== node.id) {
              setIsDragOver(true);
            }
          };

          const handleDragLeave = (e) => {
            e.preventDefault();
            setIsDragOver(false);
          };

          const handleDrop = (e) => {
            e.preventDefault();
            e.stopPropagation();
            setIsDragOver(false);
            if (draggedNode && draggedNode.id !== node.id) {
              onMove(draggedNode.id, node.id);
            }
          };

          return (
            <div className="flex flex-col items-center">
              <div
                draggable={level > 0 && !isEditing}
                onDragStart={handleDragStart}
                onDragEnd={handleDragEnd}
                onDragOver={handleDragOver}
                onDragLeave={handleDragLeave}
                onDrop={handleDrop}
                className={`relative ${colors.bg} ${colors.border} border-2 rounded-lg p-3 min-w-64 shadow-md hover:shadow-lg transition-all group
                  ${level > 0 ? 'cursor-grab active:cursor-grabbing' : ''}
                  ${isBeingDragged ? 'opacity-50 scale-95' : ''}
                  ${isDragOver ? 'ring-4 ring-blue-400 ring-opacity-50 scale-105' : ''}
                `}>
                {isEditing ? (
                  <div className="space-y-2">
                    <input
                      type="text"
                      value={editData.name}
                      onChange={(e) => setEditData({...editData, name: e.target.value})}
                      className="w-full px-2 py-1 border rounded text-sm"
                      placeholder="Name"
                    />
                    <input
                      type="text"
                      value={editData.title}
                      onChange={(e) => setEditData({...editData, title: e.target.value})}
                      className="w-full px-2 py-1 border rounded text-sm"
                      placeholder="Title"
                    />
                    <select
                      value={editData.department}
                      onChange={(e) => setEditData({...editData, department: e.target.value})}
                      className="w-full px-2 py-1 border rounded text-sm"
                    >
                      {Object.keys(departmentColors).map(dept => (
                        <option key={dept} value={dept}>{dept}</option>
                      ))}
                    </select>
                    <label className="flex items-center gap-2 text-sm text-gray-600">
                      <input
                        type="checkbox"
                        checked={editData.remote}
                        onChange={(e) => setEditData({...editData, remote: e.target.checked})}
                        className="rounded"
                      />
                      Remote/Overseas
                    </label>
                    <div className="flex gap-2">
                      <button onClick={handleSave} className="flex-1 bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600">Save</button>
                      <button onClick={() => setIsEditing(false)} className="flex-1 bg-gray-300 px-2 py-1 rounded text-sm hover:bg-gray-400">Cancel</button>
                    </div>
                  </div>
                ) : (
                  <>
                    <div className="flex items-start gap-2">
                      <div className={`p-2 rounded-full ${colors.border} border bg-white`}>
                        <UserIcon className={colors.text} />
                      </div>
                      <div className="flex-1">
                        <div className="font-semibold text-gray-800 flex items-center gap-1">
                          {node.name}
                          {node.remote && (
                            <span className="text-teal-600" title="Remote/Overseas">
                              <GlobeIcon />
                            </span>
                          )}
                        </div>
                        <div className={`text-sm ${colors.text}`}>{node.title}</div>
                        <div className="text-xs text-gray-500 mt-1">{node.department}</div>
                      </div>
                    </div>

                    <div className="absolute -bottom-3 left-1/2 transform -translate-x-1/2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white rounded-full shadow px-1 py-0.5">
                      <button onClick={() => setIsEditing(true)} className="p-1 hover:bg-gray-100 rounded" title="Edit">
                        <EditIcon />
                      </button>
                      <button onClick={handleAddChild} className="p-1 hover:bg-gray-100 rounded" title="Add Report">
                        <PlusIcon />
                      </button>
                      {level > 0 && (
                        <button onClick={() => onDelete(node.id)} className="p-1 hover:bg-gray-100 rounded" title="Remove">
                          <TrashIcon />
                        </button>
                      )}
                    </div>
                  </>
                )}

                {hasChildren && !isEditing && (
                  <button
                    onClick={() => setIsExpanded(!isExpanded)}
                    className="absolute -bottom-3 right-2 bg-white border rounded-full p-0.5 shadow hover:bg-gray-50"
                  >
                    {isExpanded ? <ChevronDown /> : <ChevronRight />}
                  </button>
                )}
              </div>

              {hasChildren && isExpanded && (
                <>
                  <div className="w-0.5 h-6 bg-gray-300"></div>
                  <div className="relative">
                    {node.children.length > 1 && (
                      <div className="absolute top-0 left-1/2 transform -translate-x-1/2 h-0.5 bg-gray-300"
                           style={{ width: `calc(100% - 256px)` }}></div>
                    )}
                    <div className="flex gap-4">
                      {node.children.map((child, index) => (
                        <div key={child.id} className="flex flex-col items-center">
                          {node.children.length > 1 && <div className="w-0.5 h-6 bg-gray-300"></div>}
                          <OrgNode
                            node={child}
                            level={level + 1}
                            onUpdate={onUpdate}
                            onAdd={onAdd}
                            onDelete={onDelete}
                            onMove={onMove}
                            draggedNode={draggedNode}
                            setDraggedNode={setDraggedNode}
                          />
                        </div>
                      ))}
                    </div>
                  </div>
                </>
              )}
            </div>
          );
        };

        // Deep clone helper
        const deepClone = (obj) => JSON.parse(JSON.stringify(obj));

        // Future state with Genevieve reporting directly to Kirsten
        const initialFutureOrgData = {
          id: "1",
          name: "Cody Plofker",
          title: "CEO",
          department: "Executive",
          children: [
            {
              id: "2",
              name: "Chrissy Devries",
              title: "COO",
              department: "Operations",
              children: []
            },
            {
              id: "3",
              name: "Juliet Baker",
              title: "VP of Retail",
              department: "Retail",
              children: []
            },
            {
              id: "4",
              name: "Kirsten Walpert",
              title: "SVP of Marketing",
              department: "Marketing",
              children: [
                {
                  id: "4-1",
                  name: "Payal Patel",
                  title: "Senior Director of Brand Marketing",
                  department: "Brand Marketing",
                  children: [
                    { id: "4-1-1", name: "Samantha O'Hara", title: "Sr. Copywriter", department: "Brand Marketing", children: [] },
                    { id: "4-1-2", name: "Charlotte Newman", title: "Associate Manager of Social Media", department: "Marketing", children: [] }
                  ]
                },
                {
                  id: "4-1-3",
                  name: "Genevieve Outwater",
                  title: "Senior Manager of Marketing",
                  department: "Marketing",
                  children: [
                    { id: "4-1-3-1", name: "Carly Steakin", title: "Marketing Operations Manager", department: "Marketing", children: [] }
                  ]
                },
                {
                  id: "4-3",
                  name: "Erin Silverman",
                  title: "Creative Director",
                  department: "Creative",
                  children: [
                    { id: "4-3-1", name: "Cameron Falco", title: "Video Editor", department: "Creative", children: [] },
                    {
                      id: "4-3-2",
                      name: "Joseph Dioslaki",
                      title: "Jr. Content Producer & Editor",
                      department: "Creative",
                      children: []
                    },
                    { id: "4-3-3", name: "Diana Horan", title: "Senior Graphic Designer", department: "Creative", children: [] },
                    { id: "4-3-4", name: "Emma Silverman", title: "Content Producer", department: "Creative", children: [] }
                  ]
                },
                {
                  id: "4-4",
                  name: "Vacant",
                  title: "Senior Manager of Social Media",
                  department: "Vacant",
                  children: [
                    { id: "4-4-1", name: "Vacant", title: "Community Manager", department: "Vacant", remote: true, children: [] }
                  ]
                },
                {
                  id: "4-5",
                  name: "Vacant",
                  title: "Director of Creative Strategy",
                  department: "Vacant",
                  children: [
                    { id: "4-5-1", name: "Vacant", title: "Creative Strategist, Paid Social", department: "Vacant", children: [] }
                  ]
                },
                {
                  id: "4-6",
                  name: "Vacant",
                  title: "Director of Influencer and Affiliate",
                  department: "Vacant",
                  children: [
                    { id: "4-6-1", name: "Vacant", title: "Manager of Influencer Marketing", department: "Vacant", remote: true, children: [] }
                  ]
                }
              ]
            },
            {
              id: "7",
              name: "Whitney Blau",
              title: "Director of Growth & eCommerce",
              department: "Growth Marketing",
              children: [
                { id: "7-1", name: "Sam Brady", title: "Growth Marketing Manager", department: "Growth Marketing", children: [] }
              ]
            },
            {
              id: "5",
              name: "Vacant",
              title: "VP of Finance",
              department: "Vacant",
              children: []
            },
            {
              id: "6",
              name: "Vacant",
              title: "VP of People",
              department: "Vacant",
              children: []
            }
          ]
        };

        function OrgChart() {
          const [currentOrgData, setCurrentOrgData] = useState(initialOrgData);
          const [futureOrgData, setFutureOrgData] = useState(initialFutureOrgData);
          const [viewMode, setViewMode] = useState('current'); // 'current' or 'future'
          const [zoom, setZoom] = useState(1);
          const [draggedNode, setDraggedNode] = useState(null);

          const orgData = viewMode === 'current' ? currentOrgData : futureOrgData;
          const setOrgData = viewMode === 'current' ? setCurrentOrgData : setFutureOrgData;

          const zoomIn = () => setZoom(prev => Math.min(prev + 0.1, 2));
          const zoomOut = () => setZoom(prev => Math.max(prev - 0.1, 0.3));
          const resetZoom = () => setZoom(1);

          const copyCurrentToFuture = () => {
            setFutureOrgData(deepClone(currentOrgData));
          };

          const copyFutureToCurrent = () => {
            if (window.confirm('This will replace your Current org chart with the Future state. Are you sure?')) {
              setCurrentOrgData(deepClone(futureOrgData));
            }
          };

          const updateNode = (id, updates) => {
            const updateRecursive = (node) => {
              if (node.id === id) {
                return { ...node, ...updates };
              }
              return {
                ...node,
                children: node.children.map(updateRecursive)
              };
            };
            setOrgData(updateRecursive(orgData));
          };

          const addChild = (parentId, newChild) => {
            const addRecursive = (node) => {
              if (node.id === parentId) {
                return { ...node, children: [...node.children, newChild] };
              }
              return {
                ...node,
                children: node.children.map(addRecursive)
              };
            };
            setOrgData(addRecursive(orgData));
          };

          const deleteNode = (id) => {
            const deleteRecursive = (node) => {
              return {
                ...node,
                children: node.children
                  .filter(child => child.id !== id)
                  .map(deleteRecursive)
              };
            };
            setOrgData(deleteRecursive(orgData));
          };

          // Move a node to a new parent
          const moveNode = (nodeId, newParentId) => {
            // Find and remove the node from its current location
            let movedNode = null;

            const findAndRemove = (node) => {
              const foundIndex = node.children.findIndex(child => child.id === nodeId);
              if (foundIndex !== -1) {
                movedNode = node.children[foundIndex];
                return {
                  ...node,
                  children: node.children.filter(child => child.id !== nodeId)
                };
              }
              return {
                ...node,
                children: node.children.map(findAndRemove)
              };
            };

            const treeWithoutNode = findAndRemove(orgData);

            if (!movedNode) return;

            // Check if we're trying to move to a descendant (would create circular reference)
            const isDescendant = (node, targetId) => {
              if (node.id === targetId) return true;
              return node.children.some(child => isDescendant(child, targetId));
            };

            if (isDescendant(movedNode, newParentId)) {
              alert("Can't move a person under their own report!");
              return;
            }

            // Add node to new parent
            const addToParent = (node) => {
              if (node.id === newParentId) {
                return {
                  ...node,
                  children: [...node.children, movedNode]
                };
              }
              return {
                ...node,
                children: node.children.map(addToParent)
              };
            };

            setOrgData(addToParent(treeWithoutNode));
          };

          const countEmployees = (node) => {
            return 1 + (node.children?.reduce((sum, child) => sum + countEmployees(child), 0) || 0);
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-8">
              <div className="max-w-full mx-auto">
                <div className="text-center mb-8">
                  <h1 className="text-3xl font-bold text-gray-800 mb-2">Organization Chart</h1>

                  {/* View Mode Toggle */}
                  <div className="flex justify-center items-center gap-4 mb-4">
                    <div className="inline-flex rounded-lg border border-gray-300 p-1 bg-white shadow-sm">
                      <button
                        onClick={() => setViewMode('current')}
                        className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${
                          viewMode === 'current'
                            ? 'bg-blue-500 text-white shadow'
                            : 'text-gray-600 hover:bg-gray-100'
                        }`}
                      >
                        Current State
                      </button>
                      <button
                        onClick={() => setViewMode('future')}
                        className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${
                          viewMode === 'future'
                            ? 'bg-emerald-500 text-white shadow'
                            : 'text-gray-600 hover:bg-gray-100'
                        }`}
                      >
                        Future State
                      </button>
                    </div>

                    {viewMode === 'future' && (
                      <button
                        onClick={copyCurrentToFuture}
                        className="px-3 py-2 text-xs bg-gray-100 hover:bg-gray-200 rounded-md text-gray-600 transition-colors"
                        title="Reset Future to match Current"
                      >
                        Reset from Current
                      </button>
                    )}
                    {viewMode === 'future' && (
                      <button
                        onClick={copyFutureToCurrent}
                        className="px-3 py-2 text-xs bg-emerald-100 hover:bg-emerald-200 rounded-md text-emerald-700 transition-colors"
                        title="Apply Future changes to Current"
                      >
                        Apply to Current
                      </button>
                    )}
                  </div>

                  {viewMode === 'future' && (
                    <div className="mb-4 inline-block px-4 py-2 bg-emerald-50 border border-emerald-200 rounded-lg text-emerald-700 text-sm">
                      You're editing the <strong>Future State</strong> - changes here won't affect the Current org chart
                    </div>
                  )}

                  <p className="text-gray-600">Total Employees: {countEmployees(orgData)} | Hover over cards to edit, add reports, or remove</p>

                  <div className="mt-4 flex justify-center gap-4 flex-wrap">
                    {Object.entries(departmentColors).map(([dept, colors]) => (
                      <div key={dept} className={`${colors.bg} ${colors.border} border px-3 py-1 rounded-full text-sm ${colors.text}`}>
                        {dept}
                      </div>
                    ))}
                  </div>
                </div>

                <div className="fixed bottom-6 right-6 flex gap-2 bg-white rounded-lg shadow-lg p-2 z-50">
                  <button onClick={zoomOut} className="p-2 hover:bg-gray-100 rounded" title="Zoom Out">
                    <ZoomOutIcon />
                  </button>
                  <span className="flex items-center px-2 text-sm text-gray-600 min-w-12 justify-center">{Math.round(zoom * 100)}%</span>
                  <button onClick={zoomIn} className="p-2 hover:bg-gray-100 rounded" title="Zoom In">
                    <ZoomInIcon />
                  </button>
                  <button onClick={resetZoom} className="p-2 hover:bg-gray-100 rounded border-l ml-1" title="Reset Zoom">
                    <ResetIcon />
                  </button>
                </div>

                <div className="bg-white rounded-xl shadow-lg p-8 overflow-auto" style={{ maxHeight: 'calc(100vh - 250px)' }}>
                  <div className="inline-block min-w-max transition-transform duration-200" style={{ transform: `scale(${zoom})`, transformOrigin: 'top center' }}>
                    <OrgNode
                      node={orgData}
                      level={0}
                      onUpdate={updateNode}
                      onAdd={addChild}
                      onDelete={deleteNode}
                      onMove={moveNode}
                      draggedNode={draggedNode}
                      setDraggedNode={setDraggedNode}
                    />
                  </div>
                </div>

                <div className="mt-6 text-center text-sm text-gray-500">
                  <p><strong>Tips:</strong> Drag cards to move people | Hover for edit controls | Click arrows to expand/collapse</p>
                </div>
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<OrgChart />);
    </script>
</body>
</html>
